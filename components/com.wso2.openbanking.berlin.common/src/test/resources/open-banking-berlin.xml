<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2021, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.
  ~
  ~ This software is the property of WSO2 Inc. and its suppliers, if any.
  ~ Dissemination of any information or reproduction of any material contained
  ~ herein is strictly forbidden, unless permitted by WSO2 in accordance with
  ~ the WSO2 Software License available at https://wso2.com/licenses/eula/3.1. For specific
  ~ language governing the permissions and limitations under this license,
  ~ please see the license as well as any agreement youâ€™ve entered into with
  ~ WSO2 governing the purchase of this software and any associated services.
  ~
  -->

<Server xmlns="http://wso2.org/projects/carbon/open-banking-berlin.xml">

    <ConsentManagement>
        <PayableAccountsRetrieveEndpoint>http://localhost:9763/api/openbanking/backend/payable-acounts</PayableAccountsRetrieveEndpoint>
        <SharableAccountsRetrieveEndpoint>http://localhost:9763/api/openbanking/backend/sharable-accounts</SharableAccountsRetrieveEndpoint>

        <!-- Configurations regarding the Strong Customer Authentication -->
        <SCA>
            <Required>true</Required>
            <!--
            Allowed values for SupportedSCAApproaches names are:
            1. REDIRECT (OAUTH2 is subsumed by this)
            2. DECOUPLED
            3. EMBEDDED
            -->
            <SupportedSCAApproaches>
                <Approach>
                    <Name>REDIRECT</Name>
                    <Default>true</Default>
                </Approach>
            </SupportedSCAApproaches>
            <!--Endpoint to retrieve OIDC Discovery metadata-->
            <OAuthMetadataEndpoint>https://localhost:8243/.well-known/openid-configuration</OAuthMetadataEndpoint>
            <!-- Configure SCA Methods for API responses -->
            <SupportedSCAMethods>
                <Method>
                    <Type>SMS_OTP</Type>
                    <Version>1.0</Version>
                    <Id>sms-otp</Id>
                    <Name>SMS OTP on Mobile</Name>
                    <MappedApproach>REDIRECT</MappedApproach>
                    <Description>SMS based one time password</Description>
                    <Default>true</Default>
                </Method>
            </SupportedSCAMethods>
        </SCA>
    </ConsentManagement>
</Server>
